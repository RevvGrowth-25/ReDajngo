<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AI Dept â€“ CEO Dashboard{% endblock %}</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font-Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        tailwind.config = {
            theme:{
                extend:{
                    colors:{
                        brand:{
                            50:'#f0f9ff',100:'#e0f2fe',200:'#bae6fd',300:'#7dd3fc',
                            400:'#38bdf8',500:'#0ea5e9',600:'#0284c7',700:'#0369a1',
                            800:'#075985',900:'#0c4a6e'
                        },
                        accent:{
                            50:'#faf5ff',100:'#f3e8ff',200:'#e9d5ff',300:'#d8b4fe',
                            400:'#c084fc',500:'#a855f7',600:'#9333ea',700:'#7e22ce',
                            800:'#6b21a8',900:'#581c87'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }

        .card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(226, 232, 240, 0.8);
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            border-color: rgba(2, 132, 199, 0.3);
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .gradient-border {
            position: relative;
            background: white;
            border-radius: 1rem;
        }

        .gradient-border::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 1rem;
            padding: 2px;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .gradient-border:hover::before {
            opacity: 1;
        }

        .glass-morphism {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .status-badge {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .metric-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Mobile Menu Styles */
        .mobile-menu {
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }

        .mobile-menu.active {
            transform: translateX(0);
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .card:hover {
                transform: translateY(-2px);
            }

            .metric-number {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            body {
                font-size: 14px;
            }
        }

        /* Prevent horizontal scroll */
        body {
            overflow-x: hidden;
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>
<body class="font-sans bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 text-gray-900 min-h-screen">

<!-- Sticky Header with Glass Morphism -->
<header class="sticky top-0 z-50 glass-morphism shadow-sm">
  <div class="max-w-7xl mx-auto px-3 sm:px-4 lg:px-8">
    <div class="flex items-center justify-between h-14 sm:h-16">
      <!-- Logo Section - Always Visible -->
      <div class="flex items-center gap-2 sm:gap-4 flex-shrink-0">
        <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-brand-500 to-accent-500 rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg">
          <img src="https://i.ibb.co/QjYWQwQ2/Logomark-White.png" class="w-4 h-4 sm:w-5 sm:h-5" alt="Riva logo">
        </div>
          <div>
          <h1 class="text-lg font-bold bg-gradient-to-r from-brand-700 to-accent-700 bg-clip-text text-transparent">
            AI Department
          </h1>
          <p class="text-xs text-gray-500 font-medium">Executive Dashboard</p>
        </div>
        <div class="hidden xs:block">
          <h1 class="text-sm sm:text-lg font-bold bg-gradient-to-r from-brand-700 to-accent-700 bg-clip-text text-transparent">
            AI Department
          </h1>
          <p class="text-[10px] sm:text-xs text-gray-500 font-medium hidden sm:block">Executive Dashboard</p>
        </div>
      </div>

      <!-- Desktop Actions - Hidden on Mobile -->
      <div class="hidden md:flex items-center gap-3 lg:gap-4">
        <!-- User Filter Buttons -->
        <div class="flex gap-2 bg-white rounded-lg p-1 shadow-md border border-gray-200">
          <button onclick="filterByUser('all')" id="btnAll" class="px-3 lg:px-4 py-1.5 lg:py-2 rounded-md text-xs lg:text-sm font-semibold transition-all bg-gradient-to-r from-brand-500 to-brand-600 text-white">All</button>
          <button onclick="filterByUser('Ayush')" id="btnAyush" class="px-3 lg:px-4 py-1.5 lg:py-2 rounded-md text-xs lg:text-sm font-semibold transition-all text-gray-600 hover:bg-gray-100">Ayush</button>
          <button onclick="filterByUser('Divya')" id="btnDivya" class="px-3 lg:px-4 py-1.5 lg:py-2 rounded-md text-xs lg:text-sm font-semibold transition-all text-gray-600 hover:bg-gray-100">Divya</button>
        </div>

        <!-- Refresh Button -->
        <button onclick="location.reload()" class="px-3 lg:px-4 py-1.5 lg:py-2 rounded-lg bg-gradient-to-r from-brand-600 to-accent-600 text-white font-medium hover:from-brand-700 hover:to-accent-700 text-xs lg:text-sm shadow-md hover:shadow-lg transition-all flex items-center gap-2">
          <i class="fas fa-sync-alt text-xs"></i>
          <span class="hidden lg:inline">Refresh</span>
        </button>
      </div>

      <!-- Mobile Menu Button -->
      <button onclick="toggleMobileMenu()" class="md:hidden w-10 h-10 flex items-center justify-center rounded-lg bg-white shadow-md border border-gray-200 text-gray-700 hover:bg-gray-50 transition-colors">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </div>
</header>

<!-- Mobile Sliding Menu -->
<div id="mobileMenu" class="mobile-menu fixed top-0 right-0 w-64 h-full bg-white shadow-2xl z-[60] md:hidden">
  <div class="flex flex-col h-full">
    <!-- Mobile Menu Header -->
    <div class="flex items-center justify-between p-4 border-b border-gray-200">
      <h2 class="text-lg font-bold text-gray-800">Menu</h2>
      <button onclick="toggleMobileMenu()" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors">
        <i class="fas fa-times text-gray-600"></i>
      </button>
    </div>

    <!-- Mobile Menu Content -->
    <div class="flex-1 overflow-y-auto p-4">
      <!-- User Filter Section -->
      <div class="mb-6">
        <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Filter by User</h3>
        <div class="flex flex-col gap-2">
          <button onclick="filterByUser('all'); toggleMobileMenu();" id="btnAllMobile" class="w-full px-4 py-3 rounded-lg text-sm font-semibold transition-all bg-gradient-to-r from-brand-500 to-brand-600 text-white text-left">
            <i class="fas fa-users mr-2"></i>All Users
          </button>
          <button onclick="filterByUser('Ayush'); toggleMobileMenu();" id="btnAyushMobile" class="w-full px-4 py-3 rounded-lg text-sm font-semibold transition-all text-gray-700 bg-gray-100 hover:bg-gray-200 text-left">
            <i class="fas fa-user mr-2"></i>Ayush
          </button>
          <button onclick="filterByUser('Divya'); toggleMobileMenu();" id="btnDivyaMobile" class="w-full px-4 py-3 rounded-lg text-sm font-semibold transition-all text-gray-700 bg-gray-100 hover:bg-gray-200 text-left">
            <i class="fas fa-user mr-2"></i>Divya
          </button>
        </div>
      </div>

      <!-- Actions Section -->
      <div class="mb-6">
        <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Actions</h3>
        <button onclick="location.reload()" class="w-full px-4 py-3 rounded-lg bg-gradient-to-r from-brand-600 to-accent-600 text-white font-medium hover:from-brand-700 hover:to-accent-700 text-sm shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2">
          <i class="fas fa-sync-alt text-xs"></i>
          <span>Refresh Dashboard</span>
        </button>
      </div>
    </div>

    <!-- Mobile Menu Footer -->
    <div class="p-4 border-t border-gray-200">
      <div class="text-xs text-gray-500 text-center">
        <i class="fas fa-shield-alt mr-1"></i>
        Revv Growth AI Dept
      </div>
    </div>
  </div>
</div>

<!-- Mobile Menu Overlay -->
<div id="mobileMenuOverlay" onclick="toggleMobileMenu()" class="fixed inset-0 bg-black bg-opacity-50 z-[55] hidden md:hidden"></div>

<main class="pb-8">
    {% block content %}{% endblock %}
</main>

<footer class="bg-white/80 backdrop-blur border-t border-gray-200 mt-8 sm:mt-12">
  <div class="max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-6">
    <div class="flex flex-col md:flex-row items-center justify-between gap-3 sm:gap-4">
      <div class="flex items-center gap-2">
        <i class="fas fa-shield-alt text-brand-600 text-xs sm:text-sm"></i>
        <span class="text-xs sm:text-sm text-gray-600 font-medium text-center md:text-left">Â© 2025 Revv Growth â€“ AI Department</span>
      </div>
      <div class="flex items-center gap-4 sm:gap-6 text-xs sm:text-sm text-gray-500">
        <span class="flex items-center gap-1 sm:gap-2">
          <i class="fas fa-lock text-[10px] sm:text-xs"></i>
          <span class="hidden xs:inline">Internal Use Only</span>
          <span class="xs:hidden">Internal</span>
        </span>
        <span class="flex items-center gap-1 sm:gap-2">
          <i class="fas fa-exclamation-triangle text-[10px] sm:text-xs"></i>
          Confidential
        </span>
      </div>
    </div>
  </div>
</footer>

<script>
/* Mobile Menu Toggle */
function toggleMobileMenu() {
    const menu = document.getElementById('mobileMenu');
    const overlay = document.getElementById('mobileMenuOverlay');

    menu.classList.toggle('active');
    overlay.classList.toggle('hidden');

    // Prevent body scroll when menu is open
    if (menu.classList.contains('active')) {
        document.body.style.overflow = 'hidden';
    } else {
        document.body.style.overflow = '';
    }
}

/* Close mobile menu on window resize if desktop view */
window.addEventListener('resize', () => {
    if (window.innerWidth >= 768) {
        const menu = document.getElementById('mobileMenu');
        const overlay = document.getElementById('mobileMenuOverlay');
        menu.classList.remove('active');
        overlay.classList.add('hidden');
        document.body.style.overflow = '';
    }
});

/* Live clock with smooth updates */
const syncTime = () => {
    const clockElement = document.getElementById('syncTime');
    if (clockElement) {
        const now = new Date();
        const options = {
            day: '2-digit',
            month: 'short',
            hour: '2-digit',
            minute: '2-digit',
            hour12: true
        };
        clockElement.textContent = now.toLocaleString('en-IN', options);
    }
};
syncTime();
setInterval(syncTime, 1000);

/* Enhanced filterByUser to sync mobile and desktop buttons */
const originalFilterByUser = window.filterByUser;
window.filterByUser = function(user) {
    // Call original function if it exists
    if (typeof originalFilterByUser === 'function') {
        originalFilterByUser(user);
    }

    // Update both desktop and mobile buttons
    ['All', 'Ayush', 'Divya'].forEach(u => {
        const desktopBtn = document.getElementById('btn' + u);
        const mobileBtn = document.getElementById('btn' + u + 'Mobile');

        const isActive = (u === user) || (user === 'all' && u === 'All');

        if (desktopBtn) {
            if (isActive) {
                desktopBtn.className = 'px-3 lg:px-4 py-1.5 lg:py-2 rounded-md text-xs lg:text-sm font-semibold transition-all bg-gradient-to-r from-brand-500 to-brand-600 text-white';
            } else {
                desktopBtn.className = 'px-3 lg:px-4 py-1.5 lg:py-2 rounded-md text-xs lg:text-sm font-semibold transition-all text-gray-600 hover:bg-gray-100';
            }
        }

        if (mobileBtn) {
            if (isActive) {
                mobileBtn.className = 'w-full px-4 py-3 rounded-lg text-sm font-semibold transition-all bg-gradient-to-r from-brand-500 to-brand-600 text-white text-left';
            } else {
                mobileBtn.className = 'w-full px-4 py-3 rounded-lg text-sm font-semibold transition-all text-gray-700 bg-gray-100 hover:bg-gray-200 text-left';
            }
        }
    });
};
</script>
{% block extra_js %}{% endblock %}

</body>
</html>
